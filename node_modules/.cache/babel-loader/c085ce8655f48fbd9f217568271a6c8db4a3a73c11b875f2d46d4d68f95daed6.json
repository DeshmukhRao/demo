{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst ethers_1 = require(\"ethers\");\nconst lighthouse_config_1 = require(\"../../lighthouse.config\");\nexports.default = async password => {\n  try {\n    const wallet = ethers_1.ethers.Wallet.createRandom();\n    const response = await fetch(lighthouse_config_1.lighthouseConfig.lighthouseAPI + `/api/auth/get_auth_message?publicKey=${wallet.address}`);\n    await response.json();\n    if (!response.ok) {\n      throw new Error(`Error: ${response.json()}`);\n    }\n    const encryptedWallet = await wallet.encrypt(password);\n    /*\n      return:\n        {\n          data: {\n            encryptedWallet: `{\"address\":\"ee98ba4b911ba9c13eaf44b5b81d1217bc8c0ee3\",\"id\":\"f05692b3-f06d-4ed9-948b-93ab3260555e\",\"version\":3,\"Crypto\":{\"cipher\":\"aes-128-ctr\",\"cipherparams\":{\"iv\":\"5c469bc090e91849761a053e3c3792e0\"},\"ciphertext\":\"a5868bab7b10fbb0d74267ef97bdbb0f812b646954a16fc929a1621a27b084d2\",\"kdf\":\"scrypt\",\"kdfparams\":{\"salt\":\"bd96e53b53a61732533e3f77f16f3d73a450269bf2508f4878d4a0940180e89e\",\"n\":131072,\"dklen\":32,\"p\":1,\"r\":8},\"mac\":\"bcde1c8a5e8b99ec3f214da88223da7f75f1d92c56f125352fae9207f34cebd9\"},\"x-ethers\":{\"client\":\"ethers.js\",\"gethFilename\":\"UTC--2022-09-13T08-03-14.0Z--ee98ba4b911ba9c13eaf44b5b81d1217bc8c0ee3\",\"mnemonicCounter\":\"effdf7fc9f51d1ca4d6c2ae771bfc4c6\",\"mnemonicCiphertext\":\"41c68bf6c315ff02c5c95f26b15c5b63\",\"path\":\"m/44'/60'/0'/0/0\",\"locale\":\"en\",\"version\":\"0.1\"}}`\n          }\n        }\n    */\n    return {\n      data: {\n        encryptedWallet\n      }\n    };\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","ethers_1","require","lighthouse_config_1","default","password","wallet","ethers","Wallet","createRandom","response","fetch","lighthouseConfig","lighthouseAPI","address","json","ok","Error","encryptedWallet","encrypt","data","error","message"],"sources":["D:/demo/node_modules/@lighthouse-web3/sdk/dist/Lighthouse/createWallet/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethers_1 = require(\"ethers\");\nconst lighthouse_config_1 = require(\"../../lighthouse.config\");\nexports.default = async (password) => {\n    try {\n        const wallet = ethers_1.ethers.Wallet.createRandom();\n        const response = await fetch(lighthouse_config_1.lighthouseConfig.lighthouseAPI +\n            `/api/auth/get_auth_message?publicKey=${wallet.address}`);\n        await response.json();\n        if (!response.ok) {\n            throw new Error(`Error: ${response.json()}`);\n        }\n        const encryptedWallet = await wallet.encrypt(password);\n        /*\n          return:\n            {\n              data: {\n                encryptedWallet: `{\"address\":\"ee98ba4b911ba9c13eaf44b5b81d1217bc8c0ee3\",\"id\":\"f05692b3-f06d-4ed9-948b-93ab3260555e\",\"version\":3,\"Crypto\":{\"cipher\":\"aes-128-ctr\",\"cipherparams\":{\"iv\":\"5c469bc090e91849761a053e3c3792e0\"},\"ciphertext\":\"a5868bab7b10fbb0d74267ef97bdbb0f812b646954a16fc929a1621a27b084d2\",\"kdf\":\"scrypt\",\"kdfparams\":{\"salt\":\"bd96e53b53a61732533e3f77f16f3d73a450269bf2508f4878d4a0940180e89e\",\"n\":131072,\"dklen\":32,\"p\":1,\"r\":8},\"mac\":\"bcde1c8a5e8b99ec3f214da88223da7f75f1d92c56f125352fae9207f34cebd9\"},\"x-ethers\":{\"client\":\"ethers.js\",\"gethFilename\":\"UTC--2022-09-13T08-03-14.0Z--ee98ba4b911ba9c13eaf44b5b81d1217bc8c0ee3\",\"mnemonicCounter\":\"effdf7fc9f51d1ca4d6c2ae771bfc4c6\",\"mnemonicCiphertext\":\"41c68bf6c315ff02c5c95f26b15c5b63\",\"path\":\"m/44'/60'/0'/0/0\",\"locale\":\"en\",\"version\":\"0.1\"}}`\n              }\n            }\n        */\n        return { data: { encryptedWallet } };\n    }\n    catch (error) {\n        throw new Error(error.message);\n    }\n};\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAC9DH,OAAO,CAACK,OAAO,GAAG,MAAOC,QAAQ,IAAK;EAClC,IAAI;IACA,MAAMC,MAAM,GAAGL,QAAQ,CAACM,MAAM,CAACC,MAAM,CAACC,YAAY,CAAC,CAAC;IACpD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACR,mBAAmB,CAACS,gBAAgB,CAACC,aAAa,GAC3E,wCAAwCP,MAAM,CAACQ,OAAO,EAAE,CAAC;IAC7D,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IACrB,IAAI,CAACL,QAAQ,CAACM,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,UAAUP,QAAQ,CAACK,IAAI,CAAC,CAAC,EAAE,CAAC;IAChD;IACA,MAAMG,eAAe,GAAG,MAAMZ,MAAM,CAACa,OAAO,CAACd,QAAQ,CAAC;IACtD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;IACQ,OAAO;MAAEe,IAAI,EAAE;QAAEF;MAAgB;IAAE,CAAC;EACxC,CAAC,CACD,OAAOG,KAAK,EAAE;IACV,MAAM,IAAIJ,KAAK,CAACI,KAAK,CAACC,OAAO,CAAC;EAClC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}