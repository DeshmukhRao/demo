{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getJWT = void 0;\nconst util_1 = require(\"../../util\");\nconst getJWT = async (address, payload, useAsRefreshToken = false, chain = \"ALL\") => {\n  try {\n    const data = !useAsRefreshToken ? await (0, util_1.API_NODE_HANDLER)(`/api/message/get-jwt`, \"POST\", \"\", {\n      address,\n      signature: payload,\n      chain\n    }) : await (0, util_1.API_NODE_HANDLER)(`/api/message/get-jwt`, \"PUT\", \"\", {\n      address,\n      refreshToken: payload\n    });\n    return {\n      JWT: data.token,\n      refreshToken: data.refreshToken,\n      error: null\n    };\n  } catch (err) {\n    return {\n      JWT: null,\n      error: \"Invalid Signature\"\n    };\n  }\n};\nexports.getJWT = getJWT;","map":{"version":3,"names":["Object","defineProperty","exports","value","getJWT","util_1","require","address","payload","useAsRefreshToken","chain","data","API_NODE_HANDLER","signature","refreshToken","JWT","token","error","err"],"sources":["D:/demo/node_modules/@lighthouse-web3/kavach/dist/methods/getJWT/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getJWT = void 0;\nconst util_1 = require(\"../../util\");\nconst getJWT = async (address, payload, useAsRefreshToken = false, chain = \"ALL\") => {\n    try {\n        const data = !useAsRefreshToken ? await (0, util_1.API_NODE_HANDLER)(`/api/message/get-jwt`, \"POST\", \"\", { address, signature: payload, chain }) : await (0, util_1.API_NODE_HANDLER)(`/api/message/get-jwt`, \"PUT\", \"\", { address, refreshToken: payload });\n        return { JWT: data.token, refreshToken: data.refreshToken, error: null };\n    }\n    catch (err) {\n        return { JWT: null, error: \"Invalid Signature\" };\n    }\n};\nexports.getJWT = getJWT;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,MAAM,GAAG,KAAK,CAAC;AACvB,MAAMC,MAAM,GAAGC,OAAO,CAAC,YAAY,CAAC;AACpC,MAAMF,MAAM,GAAG,MAAAA,CAAOG,OAAO,EAAEC,OAAO,EAAEC,iBAAiB,GAAG,KAAK,EAAEC,KAAK,GAAG,KAAK,KAAK;EACjF,IAAI;IACA,MAAMC,IAAI,GAAG,CAACF,iBAAiB,GAAG,MAAM,CAAC,CAAC,EAAEJ,MAAM,CAACO,gBAAgB,EAAE,sBAAsB,EAAE,MAAM,EAAE,EAAE,EAAE;MAAEL,OAAO;MAAEM,SAAS,EAAEL,OAAO;MAAEE;IAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,EAAEL,MAAM,CAACO,gBAAgB,EAAE,sBAAsB,EAAE,KAAK,EAAE,EAAE,EAAE;MAAEL,OAAO;MAAEO,YAAY,EAAEN;IAAQ,CAAC,CAAC;IAC5P,OAAO;MAAEO,GAAG,EAAEJ,IAAI,CAACK,KAAK;MAAEF,YAAY,EAAEH,IAAI,CAACG,YAAY;MAAEG,KAAK,EAAE;IAAK,CAAC;EAC5E,CAAC,CACD,OAAOC,GAAG,EAAE;IACR,OAAO;MAAEH,GAAG,EAAE,IAAI;MAAEE,KAAK,EAAE;IAAoB,CAAC;EACpD;AACJ,CAAC;AACDf,OAAO,CAACE,MAAM,GAAGA,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}