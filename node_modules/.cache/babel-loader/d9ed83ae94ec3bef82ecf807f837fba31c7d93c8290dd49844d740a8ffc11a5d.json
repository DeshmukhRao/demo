{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* istanbul ignore file */\nconst ethers_1 = require(\"ethers\");\nconst lighthouse_config_1 = require(\"../../../lighthouse.config\");\nexports.default = async privateKey => {\n  try {\n    if (!privateKey) {\n      throw new Error('Private key not provided!!!');\n    }\n    const signer = new ethers_1.ethers.Wallet(privateKey);\n    const response = await fetch(`${lighthouse_config_1.lighthouseConfig.lighthouseAPI}/api/auth/get_message?publicKey=${signer.address}`);\n    const message = await response.json();\n    const signature = await signer.signMessage(message);\n    return `${signer.address}$${signature}`;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","ethers_1","require","lighthouse_config_1","default","privateKey","Error","signer","ethers","Wallet","response","fetch","lighthouseConfig","lighthouseAPI","address","message","json","signature","signMessage","error"],"sources":["D:/demo/node_modules/@lighthouse-web3/sdk/dist/Lighthouse/payPerDeal/oneTimeAuth/node.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* istanbul ignore file */\nconst ethers_1 = require(\"ethers\");\nconst lighthouse_config_1 = require(\"../../../lighthouse.config\");\nexports.default = async (privateKey) => {\n    try {\n        if (!privateKey) {\n            throw new Error('Private key not provided!!!');\n        }\n        const signer = new ethers_1.ethers.Wallet(privateKey);\n        const response = await fetch(`${lighthouse_config_1.lighthouseConfig.lighthouseAPI}/api/auth/get_message?publicKey=${signer.address}`);\n        const message = (await response.json());\n        const signature = await signer.signMessage(message);\n        return `${signer.address}$${signature}`;\n    }\n    catch (error) {\n        throw new Error(error.message);\n    }\n};\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,4BAA4B,CAAC;AACjEH,OAAO,CAACK,OAAO,GAAG,MAAOC,UAAU,IAAK;EACpC,IAAI;IACA,IAAI,CAACA,UAAU,EAAE;MACb,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IACA,MAAMC,MAAM,GAAG,IAAIN,QAAQ,CAACO,MAAM,CAACC,MAAM,CAACJ,UAAU,CAAC;IACrD,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,mBAAmB,CAACS,gBAAgB,CAACC,aAAa,mCAAmCN,MAAM,CAACO,OAAO,EAAE,CAAC;IACtI,MAAMC,OAAO,GAAI,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAE;IACvC,MAAMC,SAAS,GAAG,MAAMV,MAAM,CAACW,WAAW,CAACH,OAAO,CAAC;IACnD,OAAO,GAAGR,MAAM,CAACO,OAAO,IAAIG,SAAS,EAAE;EAC3C,CAAC,CACD,OAAOE,KAAK,EAAE;IACV,MAAM,IAAIb,KAAK,CAACa,KAAK,CAACJ,OAAO,CAAC;EAClC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}